.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "CHROMFLOCK (1) cc2cpm" "" "2022" "" ""
.hy
.SH NAME
.PP
\f[B]cc2cpm\f[R] Can be used to convert a Hi-C matrix into a contact
probability matrix (CPM) suitable for chromflock.
.PP
In this context a HiC-matrix is Hi-C data mapped and binned to a genome
and saved as a dense matrix in 64-bit floating point format (double).
.PP
Further downstream the CPM matrix can be read by \f[B]aflock\f[R].
The elements of the CPM are interpreted so that if
.RS
\f[I]C\f[R]\f[I]P\f[R]\f[I]M\f[R]~\f[I]i\f[R]\f[I]j\f[R]~\[u2004]=\[u2004]\f[I]p\f[R]
.RE, the probability that bin \f[C]i\f[R] and \f[C]j\f[R] are in contact
is p.\ I.e.
if p==0, i and j should never be in contact in any structure.
On the other size if p==1 i and j should be in contact in all structures
in the population.
.SS Method:
.IP \[bu] 2
An (optional) matrix balancing is applied to give equal number of
contacts per bead/bin.
.IP \[bu] 2
The matrix is scaled to reach the specific maximum number of contacts
per bead that was specified with \f[B]\[en]nCont\f[R].
.IP \[bu] 2
The first off-diagonal is set to 1 for all bins within a chromosome.
.IP \[bu] 2
Chromosome Y is removed unless \f[B]\[en]y\f[R] is specified.
.PP
Please note that there are other, possibly better ways to convert Hi-C
matrices to contact probability matrices.
.SH REQUIRED ARGUMENTS
.TP
\f[B]--hFile file.double\f[R]
The Hi-C matrix, encoded as raw double.
.TP
\f[B]--lFile file.uint8\f[R]
An array with chromosome labels encoded as uint_8.
.TP
\f[B]--nCont n\f[R]
Set the number of contacts per bead/bin.
.TP
\f[B]--nStruct n\f[R]
The number structures that will be generated.
\f[B]cc2cpm\f[R] needs to know this since it affects which contacts will
be used or not.
For example a contact with probability 0.01 will be enabled only with
100 or more structures.
.TP
\f[B]--aOut file.double\f[R]
Specify the output file name.
.SH OPTIONAL ARGUMENTS
.TP
\f[B]--mode_eq\f[R]
Enable balancing (KR normalization).
This will force each bead to have the same number of contacts.
.TP
\f[B]--y\f[R]
Keep chrY encoded by 24.
Without this argument chromosome Y will be removed.
.TP
\f[B]--usage, --help\f[R]
Show a brief summary of available arguments.
.SH WEB PAGE
.PP
[http://github.com/elgw/chromflock_dev/]
.SH REPORTING BUGS
.PP
Please report bugs at [http://github.com/elgw/chromflock_dev/issues/]
.SH COPYRIGHT
.PP
Copyright \[co] 2022 Erik Wernersson.
License GPLv3+: GNU GPL version 3 or later
<https://gnu.org/licenses/gpl.html>.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
.SH SEE ALSO
.PP
\f[B]mflock\f[R], \f[B]aflock\f[R]
.SH AUTHORS
Erik Wernersson.
